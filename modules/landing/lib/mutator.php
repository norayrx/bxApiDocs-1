<? namespace Bitrix\Landing;$GLOBALS['____637172920']= array(base64_decode('ZG'.'V'.'m'.'aW5'.'l'),base64_decode(''.'ZXh'.'wb'.'G9kZ'.'Q'.'='.'='),base64_decode('cGFj'.'aw'.'=='),base64_decode('bWQ1'),base64_decode('Y29uc3RhbnQ='),base64_decode(''.'aGFzaF9o'.'bWFj'),base64_decode('c'.'3RyY21w'),base64_decode('ZXhw'.'b'.'G'.'9k'.'ZQ'.'=='),base64_decode('bWt0aW'.'1l'),base64_decode('dGl'.'tZQ=='),base64_decode('aW5fY'.'XJyYXk='),base64_decode('cHJl'.'Z19'.'y'.'ZXBsYWNlX2Nhb'.'G'.'x'.'iYWNr'),base64_decode('c3RydG9'.'s'.'b3dl'.'c'.'g=='),base64_decode(''.'cHJlZ19tYXR'.'j'.'aA=='),base64_decode('cHJlZ19yZXBs'.'YWNlX2NhbG'.'xiYWNr'));if(!function_exists(__NAMESPACE__.'\\___564380173')){function ___564380173($_533772935){static $_1578662429= false; if($_1578662429 == false) $_1578662429=array('TEFORElOR19NV'.'VRBV'.'E'.'9SX01PR'.'EU=','ZmlsdGVy',''.'IUl'.'E','UFVCTEl'.'DX1B'.'BR0V'.'f'.'UkVBQ0hFRA==','TE'.'FORElOR'.'19Q'.'V'.'UJ'.'MSUNfU'.'E'.'FH'.'R'.'V9SRUFDSEVE','c2VsZ'.'WN0','SUQ'.'=','VFlQRQ==','Z'.'ml'.'sd'.'GVy',''.'SU'.'Q=','PUFDVElWRQ==','T'.'g==','Zml'.'sdG'.'Vy','I'.'Ul'.'E',''.'SU'.'Q'.'=','dH'.'lwZQ==','VFlQRQ==','U'.'FV'.'CTElDX1'.'NJV'.'E'.'VfU'.'kVBQ0'.'hFRA==','TEFORElO'.'R1'.'9Q'.'VUJMSUN'.'fU0lURV9'.'S'.'RU'.'FD'.'SEVE','bGFuZG'.'luZw==','b25MYW5kaW'.'5nUHV'.'i'.'bGljY'.'XRpb2'.'4=','a'.'W'.'Q'.'=',''.'REI=','U'.'0V'.'MR'.'UN'.'UIFZBTFVF'.'IE'.'Z'.'S'.'T0'.'0g'.'Yl9vcHRpb24'.'g'.'V0hF'.'Uk'.'UgT'.'kF'.'N'.'RT0nflB'.'BUkFNX0ZJTkl'.'TSF9EQVR'.'FJyBBTkQg'.'TU'.'9EVUx'.'F'.'X0lEP'.'Sd'.'tYWluJyBBTkQgU0lURV9J'.'RCBJ'.'Uy'.'BOVU'.'x'.'M','Vk'.'FMV'.'UU=','Lg='.'=','SCo=','Yml0cml4','TElDRU5'.'TR'.'V9'.'LR'.'Vk=','c2'.'hhM'.'jU2','MjAxOC0wMS0wMQ==','MjA'.'xO'.'C0w'.'MS0wMQ==','LQ==','TEl'.'DR'.'U5T'.'RV'.'9FWFBJ'.'UkVE',''.'TE'.'FORElOR19MSU'.'NFTlNFX'.'0V'.'Y'.'U'.'El'.'SRUQ'.'=','QU'.'NUSVZF','WQ==','U'.'FV'.'C'.'T'.'E'.'lD',''.'WQ='.'=','RE'.'F'.'URV'.'9QVUJMSU'.'M=','RE'.'FURV9NT'.'0'.'RJRlk=',''.'Q'.'UNU'.'SVZF','WQ==','Lyh'.'bXDsi'.'XXswL'.'DF9KS'.'NibG9jayhbXGR'.'dKy'.'k'.'oW1w'.'mIl17MC'.'w'.'xf'.'SkvaX'.'M'.'=','c2V'.'sZWN0','SU'.'Q=','UFVCTElD','UEFSR'.'U'.'5UX'.'0lE','Q09E'.'RQ==','U0'.'9SVA==','Q'.'UNUSVZF',''.'QU5DS'.'E'.'9S','Q'.'UN'.'DR'.'VN'.'T','Q09OVE'.'VO'.'VA==','ZmlsdGV'.'y','TEl'.'E',''.'PURFTEV'.'URUQ=','Tg==','SUQ=','U'.'FVCTElD','WQ'.'==','Q09'.'OVE'.'VO'.'VA==',''.'L2hyZWZ'.'cPSI'.'j'.'Y2F0YWxvZ'.'yhFbGV'.'tZW50fFNlY3Rpb24pKFt'.'c'.'Z'.'F0'.'rKS'.'Iva'.'Q==','aHJlZj'.'0'.'i','Ig'.'='.'=','Q09OVEVOVA='.'=',''.'UEFSRU'.'5UX0l'.'E','UEFSRU5UX0l'.'E',''.'SUQ=','U09SV'.'A==','U0'.'9SV'.'A==','QUN'.'USVZ'.'F','QUNUS'.'VZF',''.'QU'.'5DSE9S','QU5DSE9S','QU'.'N'.'DRVNT','QUNDRVNT','Q09OVEV'.'OVA==','Q09OVEV'.'O'.'VA='.'=','UE'.'FSRU5UX'.'0lE','Q0'.'9OVEV'.'OV'.'A'.'==','TEl'.'E','Q09ERQ==',''.'Q09ERQ==','U09SVA==','U0'.'9SVA==','QU5D'.'S'.'E9'.'S','QU5DSE'.'9'.'S','QUNUSVZ'.'F',''.'Q'.'UNUSVZF','QUNDRVNT','QUNDR'.'V'.'N'.'T',''.'Q09OVEVOVA==',''.'Q'.'09OV'.'EVO'.'VA'.'==','UEFSRU5UX0lE','Q'.'09O'.'VEVOVA'.'==',''.'Q09OVEVOVA='.'=','Q09OVEVOV'.'A==','I2J'.'sb2Nr','I2Jsb2'.'N'.'r','Q'.'09'.'OVEVO'.'V'.'A==');return base64_decode($_1578662429[$_533772935]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____637172920'][0](___564380173(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_189347018= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___564380173(1) => array( ___564380173(2) => $landing->getId())))){ $landing->getError()->addError( ___564380173(3), Loc::getMessage(___564380173(4))); return false;}  $_2125823589= Site::getList(array( ___564380173(5) => array( ___564380173(6), ___564380173(7)), ___564380173(8) => array( ___564380173(9) => $landing->getSiteId(), ___564380173(10) => ___564380173(11)))); if($_1785902358= $_2125823589->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___564380173(12) => array( ___564380173(13) => $_1785902358[___564380173(14)]), ___564380173(15) => $_1785902358[___564380173(16)]))){ $landing->getError()->addError( ___564380173(17), Loc::getMessage(___564380173(18))); return false;}}  $_847077486= new Event(___564380173(19), ___564380173(20), array( ___564380173(21) => $landing->getId())); $_847077486->send(); foreach($_847077486->getResults() as $_1069996988){ if($_1069996988->getResultType() == EventResult::ERROR){ foreach($_1069996988->getErrors() as $_1509099213){ $landing->getError()->addError( $_1509099213->getCode(), $_1509099213->getMessage());} return false;}} $_2126801056= $GLOBALS[___564380173(22)]->Query(___564380173(23), true); if($_2125823589= $_2126801056->Fetch()){ $_1793682038= $_2125823589[___564380173(24)]; list($_161625630, $_2095660153)= $GLOBALS['____637172920'][1](___564380173(25), $_1793682038); $_1728517461= $GLOBALS['____637172920'][2](___564380173(26), $_161625630); $_1971249423= ___564380173(27).$GLOBALS['____637172920'][3]($GLOBALS['____637172920'][4](___564380173(28))); $_945598302= $GLOBALS['____637172920'][5](___564380173(29), $_2095660153, $_1971249423, true); if($GLOBALS['____637172920'][6]($_945598302, $_1728517461) !==(788-2*394)){ $_2095660153= ___564380173(30);}} else{ $_2095660153= ___564380173(31);} if(!empty($_2095660153)){ $_583162613= $GLOBALS['____637172920'][7](___564380173(32), $_2095660153); $_2046817080= $GLOBALS['____637172920'][8]((1412/2-706), min(198,0,66),(870-2*435), $_583162613[round(0+0.33333333333333+0.33333333333333+0.33333333333333)], $_583162613[round(0+0.5+0.5+0.5+0.5)], $_583162613[(934-2*467)]); if($_2046817080 <= $GLOBALS['____637172920'][9]()){ $landing->getError()->addError( ___564380173(33), Loc::getMessage(___564380173(34))); return false;}}  Block::publicationBlocks($landing); $_567721572= new \Bitrix\Main\Type\DateTime; $_2125823589= Landing::update($landing->getId(), array( ___564380173(35) => ___564380173(36), ___564380173(37) => ___564380173(38), ___564380173(39) => $_567721572, ___564380173(40) => false));  if($_2125823589->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____637172920'][10]($landing->getSiteId(), $_189347018)){ $_189347018[]= $landing->getSiteId(); Site::update($landing->getSiteId(), array( ___564380173(41) => ___564380173(42)));} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1568811908= $landing->getId(); $_213662030= array(); $_1172587593= array(); $_1063519018= array(); $_1601350298= ___564380173(43); $_2125823589= Block::getList(array( ___564380173(44) => array( ___564380173(45), ___564380173(46), ___564380173(47), ___564380173(48), ___564380173(49), ___564380173(50), ___564380173(51), ___564380173(52), ___564380173(53)), ___564380173(54) => array( ___564380173(55) => $landing->getId(), ___564380173(56) => ___564380173(57)))); while($_1785902358= $_2125823589->fetch()){ $_213662030[$_1785902358[___564380173(58)]]= $_1785902358;}  foreach($_213662030 as $_1939337476 => $_737187842){ if($_737187842[___564380173(59)] != ___564380173(60)){  $_737187842[___564380173(61)]= $GLOBALS['____637172920'][11]( ___564380173(62), function($_854082044){ return ___564380173(63). PublicAction\Utils::getIblockURL( $_854082044[round(0+1+1)], $GLOBALS['____637172920'][12]($_854082044[round(0+0.5+0.5)])). ___564380173(64);}, $_737187842[___564380173(65)]); $_322743482= isset($_213662030[$_737187842[___564380173(66)]])? $_213662030[$_737187842[___564380173(67)]][___564380173(68)]:(140*2-280); if($_322743482){ Block::update($_322743482, array( ___564380173(69) => $_737187842[___564380173(70)], ___564380173(71) => $_737187842[___564380173(72)], ___564380173(73) => $_737187842[___564380173(74)], ___564380173(75) => $_737187842[___564380173(76)], ___564380173(77) => $_737187842[___564380173(78)])); unset($_213662030[$_737187842[___564380173(79)]]);  File::replaceInBlock( $_322743482, File::getFilesFromBlockContent( $_1939337476, $_737187842[___564380173(80)]));} else{ $_2125823589= Block::add(array( ___564380173(81) => $_1568811908, ___564380173(82) => $_737187842[___564380173(83)], ___564380173(84) => $_737187842[___564380173(85)], ___564380173(86) => $_737187842[___564380173(87)], ___564380173(88) => $_737187842[___564380173(89)], ___564380173(90) => $_737187842[___564380173(91)], ___564380173(92) => $_737187842[___564380173(93)])); if($_2125823589->isSuccess()){ $_322743482= $_2125823589->getId(); Block::update($_1939337476, array( ___564380173(94) => $_322743482));  File::addToBlock( $_322743482, File::getFilesFromBlockContent( $_1939337476, $_737187842[___564380173(95)]));}} if($GLOBALS['____637172920'][13]($_1601350298, $_737187842[___564380173(96)])){ $_1172587593[$_322743482]= $_737187842[___564380173(97)];} $_1063519018[$_1939337476]= $_322743482; unset($_213662030[$_1939337476]);}}  foreach($_213662030 as $_1939337476 => $_737187842){ Block::delete($_1939337476);}  foreach($_1172587593 as $_1939337476 => $_1832309207){ $_1832309207= $GLOBALS['____637172920'][14]( $_1601350298, function($_1188213424) use($_1063519018){ if(isset($_1063519018[$_1188213424[round(0+1+1)]])){ return $_1188213424[round(0+0.5+0.5)]. ___564380173(98). $_1063519018[$_1188213424[round(0+0.5+0.5+0.5+0.5)]]. $_1188213424[round(0+1.5+1.5)];} else{ return $_1188213424[round(0+1)]. ___564380173(99). $_1188213424[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]. $_1188213424[round(0+0.75+0.75+0.75+0.75)];}}, $_1832309207); Block::update($_1939337476, array( ___564380173(100) => $_1832309207));}}}}?>